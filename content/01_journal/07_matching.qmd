---
title: "Matching and Subclassification"
author: "Huzzaifa"
---

```{r}
store_df = readRDS("C:/Users/huzai/OneDrive/Documents/GitHub/tes/cdsba-cdx3745/content/Causal_Data_Science_Data/Causal_Data_Science_Data/membership.rds")

View(store_df)

```

Assignment 1:



```{r}
# Load packages
library(dagitty)
library(ggdag)

# Define DAG
dag_model <- 'dag {
  bb="0,0,1,1"
  "card" [exposure,pos="0.25,0.2"]
  "Prevouis avg purchase" [pos="0.35,0.25"]
  "avg_purch" [outcome,pos="0.35,0.2"]
  Age [pos="0.25,0.25"]
  "Prevouis avg purchase" -> "card"
  "Prevouis avg purchase" -> "avg_purch"
  Age -> "card"
  Age -> "Prevouis avg purchase"
  Age -> "avg_purch"
}'

# DAG with adjustment sets (and custom layout)
ggdag_adjustment_set(dag_model, shadow = T, text = F) +
  guides(color = "none") +  # Turn off legend
  #theme_dag_cds() + # custom layout (can be left out)
  #geom_dag_point(color = ggthemr::swatch()[2]) + # custom color, can take any color
  geom_dag_text(color = NA) +
  geom_dag_edges(edge_color = "white") +
  geom_dag_label_repel(aes(label = name))
